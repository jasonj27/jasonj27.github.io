[{"categories":["CS50"],"content":"Filter #include \"helpers.h\"#include \u003cmath.h\u003e#include \u003cstring.h\u003e // Convert image to grayscale void grayscale(int height, int width, RGBTRIPLE image[height][width]) { for (int i = 0; i \u003c height; i++) { for (int j = 0; j \u003c width; j++) { float pixel = (float)(image[i][j].rgbtRed + image[i][j].rgbtGreen + image[i][j].rgbtBlue) / 3; pixel = roundf(pixel); image[i][j].rgbtRed = pixel; image[i][j].rgbtGreen = pixel; image[i][j].rgbtBlue = pixel; } } return; } // Reflect image horizontally void reflect(int height, int width, RGBTRIPLE image[height][width]) { for (int i = 0; i \u003c height; i++) { RGBTRIPLE aux[width]; memcpy(aux, image[i], sizeof(RGBTRIPLE) * width); for (int j = 0; j \u003c width; j++) { image[i][j].rgbtRed = aux[width - j - 1].rgbtRed; image[i][j].rgbtGreen = aux[width - j - 1].rgbtGreen; image[i][j].rgbtBlue = aux[width - j - 1].rgbtBlue; } } return; } // Blur image void blur(int height, int width, RGBTRIPLE image[height][width]) { RGBTRIPLE aux[height][width]; memcpy(aux, image, sizeof(RGBTRIPLE) * height * width); for (int i = 0; i \u003c height; i++) { for (int j = 0; j \u003c width; j++) { int r = 0, g = 0, b = 0; float pixel_count = 0; for (int k = -1; k \u003c 2; k++) { for (int l = -1; l \u003c 2; l++) { if (!(i + k \u003c 0 || i + k \u003e= height || j + l \u003c 0 || j + l \u003e= width)) { r += aux[i + k][j + l].rgbtRed; g += aux[i + k][j + l].rgbtGreen; b += aux[i + k][j + l].rgbtBlue; pixel_count++; } } } float pixel_blur_r = roundf((float)r / pixel_count); float pixel_blur_g = roundf((float)g / pixel_count); float pixel_blur_b = roundf((float)b / pixel_count); image[i][j].rgbtRed = pixel_blur_r; image[i][j].rgbtGreen = pixel_blur_g; image[i][j].rgbtBlue = pixel_blur_b; } } return; } // Detect edges void edges(int height, int width, RGBTRIPLE image[height][width]) { RGBTRIPLE aux[height][width]; memcpy(aux, image, sizeof(RGBTRIPLE) * height * width); int g_x[3][3] = { {-1, 0, 1}, {-2, 0, 2}, {-1, 0, 1} }; int g_y[3][3] = { {-1, -2, -1}, {0, 0, 0}, {1, 2, 1} }; for (int i = 0; i \u003c height; i++) { for (int j = 0; j \u003c width; j++) { int rx = 0, gx = 0, bx = 0; int ry = 0, gy = 0, by = 0; for (int k = -1; k \u003c 2; k++) { for (int l = -1; l \u003c 2; l++) { if (!(i + k \u003c 0 || i + k \u003e= height || j + l \u003c 0 || j + l \u003e= width)) { rx += aux[i + k][j + l].rgbtRed * g_x[k + 1][l + 1]; gx += aux[i + k][j + l].rgbtGreen * g_x[k + 1][l + 1]; bx += aux[i + k][j + l].rgbtBlue * g_x[k + 1][l + 1]; ry += aux[i + k][j + l].rgbtRed * g_y[k + 1][l + 1]; gy += aux[i + k][j + l].rgbtGreen * g_y[k + 1][l + 1]; by += aux[i + k][j + l].rgbtBlue * g_y[k + 1][l + 1]; } } } float r = roundf(sqrt((float)(rx * rx + ry * ry))); float g = roundf(sqrt((float)(gx * gx + gy * gy))); float b = roundf(sqrt((float)(bx * bx + by * by))); r = r \u003e 255 ? 255 : r; g = g \u003e 255 ? 255 : g; b = b \u003e 255 ? 255 : b; image[i][j].rgbtRed = r; image[i][j].rgbtGreen = g; image[i][j].rgbtBlue = b; } } return; } ","date":"2020-10-05","objectID":"/2020/10/05/cs50-week4/:1:0","tags":["C","CS50"],"title":"CS50 2020 Week4: Memery Problem Answers","uri":"/2020/10/05/cs50-week4/"},{"categories":["CS50"],"content":"Recovery #include \u003cstdio.h\u003e#include \u003cstdlib.h\u003e#include \u003cstdint.h\u003e typedef uint8_t BYTE; int main(int argc, char *argv[]) { BYTE buffer[512]; char filename[8]; int n = 0; FILE *img; if (argc != 2) { printf(\"Usage: ./recover image\\n\"); return 1; } FILE *f = fopen(argv[1], \"r\"); if (!f) { printf(\"Error open file\\n\"); return 1; } // loop for read file while (1) { // Read 512 bytes into a buffer int bytesread = fread(buffer, sizeof(BYTE), 512, f); // if start a new JPEG if (buffer[0] == 0xff \u0026\u0026 buffer[1] == 0xd8 \u0026\u0026 buffer[2] == 0xff \u0026\u0026 (buffer[3] \u0026 0xf0) == 0xe0) { if (n == 0) // If first JPEG { sprintf(filename, \"%03i.jpg\", n); n++; img = fopen(filename, \"w\"); fwrite(buffer, sizeof(BYTE), bytesread, img); } else // not first JPEG { fclose(img); sprintf(filename, \"%03i.jpg\", n); n++; img = fopen(filename, \"w\"); fwrite(buffer, sizeof(BYTE), bytesread, img); } } else { if (n != 0) // If already found JPEG { fwrite(buffer, sizeof(BYTE), bytesread, img); } } // which means file end, fread read only size of bytesread if (bytesread != 512) { // write last read to file fwrite(buffer, sizeof(BYTE), bytesread, img); fclose(img); break; } } fclose(f); return 0; } ","date":"2020-10-05","objectID":"/2020/10/05/cs50-week4/:2:0","tags":["C","CS50"],"title":"CS50 2020 Week4: Memery Problem Answers","uri":"/2020/10/05/cs50-week4/"},{"categories":["CS50"],"content":"Plurality #include \u003ccs50.h\u003e#include \u003cstdio.h\u003e#include \u003cstring.h\u003e // Max number of candidates #define MAX 9 // Candidates have name and vote count typedef struct { string name; int votes; } candidate; // Array of candidates candidate candidates[MAX]; // Number of candidates int candidate_count; // Function prototypes bool vote(string name); void print_winner(void); int main(int argc, string argv[]) { // Check for invalid usage if (argc \u003c 2) { printf(\"Usage: plurality [candidate ...]\\n\"); return 1; } // Populate array of candidates candidate_count = argc - 1; if (candidate_count \u003e MAX) { printf(\"Maximum number of candidates is %i\\n\", MAX); return 2; } for (int i = 0; i \u003c candidate_count; i++) { candidates[i].name = argv[i + 1]; candidates[i].votes = 0; } int voter_count = get_int(\"Number of voters: \"); // Loop over all voters for (int i = 0; i \u003c voter_count; i++) { string name = get_string(\"Vote: \"); // Check for invalid vote if (!vote(name)) { printf(\"Invalid vote.\\n\"); } } // Display winner of election print_winner(); } // Update vote totals given a new vote bool vote(string name) { for (int i = 0; i \u003c candidate_count; i++) { if (strcmp(candidates[i].name, name) == 0) { candidates[i].votes++; return true; } } return false; } // Print the winner (or winners) of the election void print_winner(void) { for (int i = 0; i \u003c candidate_count; i++) { for (int j = 1; j \u003c (candidate_count - i); j++) { if (candidates[i].votes \u003c candidates[i + j].votes) { candidates[i].votes = 0; } else if (candidates[i].votes \u003e candidates[i + j].votes) { candidates[i + j].votes = 0; } } } for (int i = 0; i \u003c candidate_count; i++) { if (candidates[i].votes != 0) { printf(\"%s\\n\", candidates[i].name); } } return; } ","date":"2020-10-03","objectID":"/2020/10/03/cs50-week3/:1:0","tags":["C","CS50"],"title":"CS50 2020 Week3: Algorithms Problem Answers","uri":"/2020/10/03/cs50-week3/"},{"categories":["CS50"],"content":"Tideman #include \u003ccs50.h\u003e#include \u003cstdio.h\u003e#include \u003cstring.h\u003e // Max number of candidates #define MAX 9 // preferences[i][j] is number of voters who prefer i over j int preferences[MAX][MAX]; // locked[i][j] means i is locked in over j bool locked[MAX][MAX]; // Each pair has a winner, loser typedef struct { int winner; int loser; } pair; // Array of candidates string candidates[MAX]; pair pairs[MAX * (MAX - 1) / 2]; int pair_count; int candidate_count; // Function prototypes bool vote(int rank, string name, int ranks[]); void record_preferences(int ranks[]); void add_pairs(void); void sort_pairs(void); void lock_pairs(void); void print_winner(void); bool is_circle(int start_winner, int loser); int main(int argc, string argv[]) { // Check for invalid usage if (argc \u003c 2) { printf(\"Usage: tideman [candidate ...]\\n\"); return 1; } // Populate array of candidates candidate_count = argc - 1; if (candidate_count \u003e MAX) { printf(\"Maximum number of candidates is %i\\n\", MAX); return 2; } for (int i = 0; i \u003c candidate_count; i++) { candidates[i] = argv[i + 1]; } // Clear graph of locked in pairs for (int i = 0; i \u003c candidate_count; i++) { for (int j = 0; j \u003c candidate_count; j++) { locked[i][j] = false; } } pair_count = 0; int voter_count = get_int(\"Number of voters: \"); // Query for votes for (int i = 0; i \u003c voter_count; i++) { // ranks[i] is voter's ith preference int ranks[candidate_count]; // Query for each rank for (int j = 0; j \u003c candidate_count; j++) { string name = get_string(\"Rank %i: \", j + 1); if (!vote(j, name, ranks)) { printf(\"Invalid vote.\\n\"); return 3; } } record_preferences(ranks); printf(\"\\n\"); } add_pairs(); sort_pairs(); lock_pairs(); print_winner(); return 0; } // Update ranks given a new vote bool vote(int rank, string name, int ranks[]) { for (int k = 0; k \u003c candidate_count; k++) { if (strcmp(candidates[k], name) == 0) { ranks[rank] = k; return true; } } return false; } // Update preferences given one voter's ranks void record_preferences(int ranks[]) { for (int j = 0; j \u003c candidate_count; j++) { for (int k = 0; k \u003c (candidate_count - j); k++) { preferences[ranks[j]][ranks[ j + k + 1]]++; } } return; } // Record pairs of candidates where one is preferred over the other void add_pairs(void) { for (int i = 0; i \u003c candidate_count; i++) { for (int j = 0; j \u003c candidate_count; j++) { if (i != j) { if (preferences[i][j] \u003e preferences[j][i]) { pairs[pair_count].winner = i; pairs[pair_count].loser = j; pair_count++; } } } } return; } // Sort pairs in decreasing order by strength of victory void sort_pairs(void) { for (int i = 0; i \u003c pair_count; i++) { for (int j = i + 1; j \u003c pair_count; j++) { if ((preferences[pairs[i].winner][pairs[i].loser]) \u003c (preferences[pairs[j].winner][pairs[j].loser])) { pair temp_pair; temp_pair.winner = pairs[i].winner; temp_pair.loser = pairs[i].loser; pairs[i].winner = pairs[j].winner; pairs[i].loser = pairs[j].loser; pairs[j].winner = temp_pair.winner; pairs[j].loser = temp_pair.loser; } } } return; } // Lock pairs into the candidate graph in order, without creating cycles void lock_pairs(void) { for (int i = 0; i \u003c pair_count; i++) { if (!is_circle(pairs[i].winner, pairs[i].loser)) { locked[pairs[i].winner][pairs[i].loser] = true; } } return; } // Print the winner of the election void print_winner(void) { int winner = -1; for (int i = 0; i \u003c candidate_count; i++) { for (int j = 0; j \u003c candidate_count; j++) { if (winner == -1 \u0026\u0026 locked[i][j]) { winner = i; } if (locked[i][j] \u0026\u0026 j == winner) { winner = i; } } } printf(\"%s\\n\", candidates[winner]); return; } bool is_circle(int start_winner, int loser) { if (loser == start_winner) { return true; } for (int i = 0; i \u003c candidate_count; i++) { if (locked[loser][i]) { if (is_circle(start_winner, i)) { return true; } } } return false; } ","date":"2020-10-03","objectID":"/2020/10/03/cs50-week3/:2:0","tags":["C","CS50"],"title":"CS50 2020 Week3: Algorithms Problem Answers","uri":"/2020/10/03/cs50-week3/"},{"categories":["CS50"],"content":"Readability #include \u003ccs50.h\u003e#include \u003cstdio.h\u003e#include \u003cctype.h\u003e#include \u003cstring.h\u003e#include \u003cmath.h\u003e int main(void) { string input = get_string(\"Text: \"); float letters = 0, words = 0, sentences = 0, index; int input_length = strlen(input); for (int i = 0; i \u003c input_length; i++) { if (isalpha(input[i]) != 0) { letters++; } else if (isspace(input[i])) { words++; } else if ((input[i]) == 46 || (input[i]) == 21 || (input[i]) == 63) { sentences++; } } words++; index = roundf(0.0588 * (letters / words) * 100 - 0.296 * (sentences / words) * 100 - 15.8); if (index \u003c= 1) { printf(\"Before Grade 1\\n\"); } else if (index \u003e= 2 \u0026\u0026 index \u003c= 15) { printf(\"Grade %i\\n\", (int)index); } else if (index \u003e= 16) { printf(\"Grade 16+\\n\"); } } ","date":"2020-10-03","objectID":"/2020/10/03/cs50-week2/:1:0","tags":["C","CS50"],"title":"CS50 2020 Week2: Arrays Problem Answers","uri":"/2020/10/03/cs50-week2/"},{"categories":["CS50"],"content":"Substitution #include \u003cstdio.h\u003e#include \u003ccs50.h\u003e#include \u003cstring.h\u003e#include \u003cctype.h\u003e int main(int argc, string argv[]) { if (argc != 2) { printf(\"Usage: ./substitution KEY\\n\"); return 1; } char key[26][2] = {{'a', '0'}, {'b', '0'}, {'c', '0'}, {'d', '0'}, {'e', '0'}, {'f', '0'}, {'g', '0'}, {'h', '0'}, {'i', '0'}, {'j', '0'}, {'k', '0'}, {'l', '0'}, {'m', '0'}, {'n', '0'}, {'o', '0'}, {'p', '0'}, {'q', '0'}, {'r', '0'}, {'s', '0'}, {'t', '0'}, {'u', '0'}, {'v', '0'}, {'w', '0'}, {'x', '0'}, {'y', '0'}, {'z', '0'} }; if (strlen(argv[1]) != 26) { printf(\"KEY must contain 26 characters.\\n\"); return 1; } for (int i = 0; i \u003c 26; i++) { if (isalpha(argv[1][i]) == 0) { printf(\"Key must only contain alphabetic characters.\\n\"); return 1; } for (int j = 0; j \u003c 26; j++) { if (key[j][1] == tolower(argv[1][i])) { printf(\"Key must not contain repeated characters.\\n\"); return 1; } } key[i][1] = tolower(argv[1][i]); } string s = get_string(\"plaintext: \"); for (int i = 0; i \u003c strlen(s); i++) { if (isupper(s[i])) { for (int j = 0; j \u003c 26; j++) { if (toupper(key[j][0]) == s[i]) { s[i] = toupper(key[j][1]); break; } } } if (islower(s[i])) { for (int j = 0; j \u003c 26; j++) { if ((key[j][0]) == s[i]) { s[i] = (key[j][1]); break; } } } } printf(\"ciphertext: %s\\n\", s); return 0; } ","date":"2020-10-03","objectID":"/2020/10/03/cs50-week2/:2:0","tags":["C","CS50"],"title":"CS50 2020 Week2: Arrays Problem Answers","uri":"/2020/10/03/cs50-week2/"},{"categories":["CS50"],"content":"mario #include \u003cstdio.h\u003e#include \u003ccs50.h\u003e int main(void) { int height = -1; while (height \u003e 8 || height \u003c 1) { height = get_int(\"Height: ? \"); } for (int i = 0, j = height - 1; i \u003c height; i++, j--) //i for height, j for space before each level { for (int k = 0; k \u003c 2; k++) //loop for right half and left half { if (k == 0) //for left half { if (j != 0) //if Height is one, skip output space before each level { for (int l = 0; l \u003c j; l++) //print space before each level { printf(\" \"); } } for (int m = 0; m \u003c= i; m++) //print left half # { printf(\"#\"); } printf(\" \"); //space between left half and right half } else { for (int m = 0; m \u003c= i; m++) //print right half # { printf(\"#\"); } } } printf(\"\\n\"); //new line before next level } } ","date":"2020-09-29","objectID":"/2020/09/29/cs50-week1/:1:0","tags":["C","CS50"],"title":"CS50 2020 Week1: C Problem Answers","uri":"/2020/09/29/cs50-week1/"},{"categories":["CS50"],"content":"credit #include \u003cstdio.h\u003e#include \u003ccs50.h\u003e int main(void) { long number = get_long(\"Number: \"), first_two; int digit = 0, chk1 = 0, chk2 = 0; //chk2 is second-to-last digit for (long i = number; i != 0;) { digit++; i /= 10; } for (long i = number; i \u003e= 100; i /= 10) { first_two = i / 10; } for (int i = 0; number != 0; i++) { if (i % 2 == 0) { chk1 += number % 10; number /= 10; } else { int temp = number % 10 * 2; chk2 += temp / 10; chk2 += temp % 10; number /= 10; } } if ((chk1 + chk2) % 10 != 0) { printf(\"INVALID\\n\"); } else { if (first_two == 34 || first_two == 37) { if (digit == 15) { printf(\"AMEX\\n\"); } else { printf(\"INVALID\\n\"); } } else if (first_two \u003e= 51 \u0026\u0026 first_two \u003c= 55) { if (digit == 16) { printf(\"MASTERCARD\\n\"); } else { printf(\"INVALID\\n\"); } } else if (first_two / 10 == 4) { if (digit == 16 || digit == 13) { printf(\"VISA\\n\"); } else { printf(\"INVALID\\n\"); } } else { printf(\"INVALID\\n\"); } } } ","date":"2020-09-29","objectID":"/2020/09/29/cs50-week1/:2:0","tags":["C","CS50"],"title":"CS50 2020 Week1: C Problem Answers","uri":"/2020/09/29/cs50-week1/"},{"categories":["Rails"],"content":"ä»€éº¼æ˜¯CIï¼Ÿ å·å·ç”¨ä¸€ä¸‹Gitlab CI/CDçš„æ–‡ä»¶ çµæŸ ç°¡å–®ä¾†èªªï¼ŒCI(Continuous Integration, æŒçºŒæ•´åˆ)å¯ä»¥å¹«ä½ è‡ªå‹•åŒ–pushä¸€å€‹æ–°åˆ†æ”¯åˆ°Githubç­‰ç¶²ç«™å¾Œçš„æ­¥é©Ÿ ä»¥Railsç¨‹å¼ä¾†èªªï¼Œè‡³å°‘æœ‰è·‘æ¸¬è©¦(RSpec)é€™å€‹æ­¥é©Ÿ CD(Continuous Delivery, æŒçºŒäº¤ä»˜),å¯ä»¥å¹«ä½ è‡ªå‹•åŒ–æ–°åˆ†æ”¯mergeåˆ°ä¸»åˆ†æ”¯å¾Œéœ€è¦åŸ·è¡Œçš„æ­¥é©Ÿã€‚ ä»¥Railsç­‰ç¨‹å¼ä¾†èªªï¼Œè‡³å°‘æœ‰éƒ¨ç½²é€™å€‹æ­¥é©Ÿ ","date":"2020-09-17","objectID":"/2020/09/17/setup-travis-ci-or-github-action-for-a-rails-application-to-run-rspec-test-on-github/:1:0","tags":["Rails","PostgreSQL","Travis-CI","Github"],"title":"åœ¨Railså°ˆæ¡ˆè¨­å®šTravis-CIæˆ–Github action","uri":"/2020/09/17/setup-travis-ci-or-github-action-for-a-rails-application-to-run-rspec-test-on-github/"},{"categories":["Rails"],"content":"æ€éº¼è¨­å®šï¼Ÿ ä»¥ä¸€å€‹å­˜æ”¾åœ¨Githubçš„å°ˆæ¡ˆï¼Œéƒ¨ç½²åœ¨Herokuä¼ºæœå™¨ä¸Šçš„ç¶²è·¯æ‡‰ç”¨ç¨‹å¼ä¾†èªªã€‚ å¦‚æœåªè¦ç¬¦åˆæœ€å°‘CI/CDçš„æ­¥é©Ÿ CIï¼š é€™è£¡æœƒç¤ºç¯„Travis-CIå’ŒGithub actioné€™å…©å€‹å·¥å…· CDï¼š åœ¨Herokuä¸­ï¼Œéˆæ¥åˆ°Githubä¹‹å¾Œå°±å¯ä»¥è¨­å®šè‡ªå‹•éƒ¨ç½²äº† ä»¥ä¸‹æœƒç”¨ä¸€å€‹ï¼Œä½¿ç”¨Postgresqlè³‡æ–™åº«ï¼Œä»¥Webpackåšç‚ºæ‰“åŒ…å·¥å…·çš„Rails6æ‡‰ç”¨ï¼Œç¤ºç¯„Travis-CIå’ŒGithub actionçš„è¨­å®šè¦æ€éº¼å¯« ","date":"2020-09-17","objectID":"/2020/09/17/setup-travis-ci-or-github-action-for-a-rails-application-to-run-rspec-test-on-github/:2:0","tags":["Rails","PostgreSQL","Travis-CI","Github"],"title":"åœ¨Railså°ˆæ¡ˆè¨­å®šTravis-CIæˆ–Github action","uri":"/2020/09/17/setup-travis-ci-or-github-action-for-a-rails-application-to-run-rspec-test-on-github/"},{"categories":["Rails"],"content":"ç‚ºä»€éº¼éœ€è¦è¨­å®šï¼Ÿ æˆ‘å€‘å¯ä»¥è©¦è‘—å›æƒ³ä¸€ä¸‹ï¼Œåœ¨ä¸€å€‹å…¨æ–°çš„é›»è…¦ä¸Šï¼Œå¦‚æœéœ€è¦æŠŠä¸€å€‹Railsçš„Rspecæ¸¬è©¦è·‘èµ·ä¾†ï¼Œéœ€è¦ä»€éº¼æ­¥é©Ÿï¼Ÿ å®‰è£Ubuntu å®‰è£Ruby å®‰è£Postgresqlè³‡æ–™åº« å®‰è£Node bundleå®‰è£Ruby gems yarnå®‰è£node modules è·‘rspec å› ç‚ºåœ¨Travis-CIæˆ–Github actionåŸ·è¡Œæ™‚ï¼Œå°±ç­‰æ–¼æ˜¯åœ¨ä¸€å°æ–°é›»è…¦ä¸ŠåŸ·è¡Œã€‚ æ‰€ä»¥é€™äº›æ­¥é©Ÿéƒ½éœ€è¦å¯«åœ¨ä¸€å€‹æª”æ¡ˆä¸­ï¼Œå‘Šè¨´Travis-CIæˆ–Github actionæ€éº¼è¨­å®šå’ŒåŸ·è¡Œ ","date":"2020-09-17","objectID":"/2020/09/17/setup-travis-ci-or-github-action-for-a-rails-application-to-run-rspec-test-on-github/:3:0","tags":["Rails","PostgreSQL","Travis-CI","Github"],"title":"åœ¨Railså°ˆæ¡ˆè¨­å®šTravis-CIæˆ–Github action","uri":"/2020/09/17/setup-travis-ci-or-github-action-for-a-rails-application-to-run-rspec-test-on-github/"},{"categories":["Rails"],"content":"Travis-CI Travis-CIçš„è¨­å®šæª”åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„çš„.travis.yml os:linuxdist:bioniclanguage:rubycache:- bundler- yarnservices:- postgresqlbefore_install:- nvm install --ltsbefore_script:- bundle install --jobs=3 --retry=3- yarn- bundle exec rake db:create- bundle exec rake db:schema:loadscript:- bundle exec rspec osè¨­å®šä½œæ¥­ç³»çµ± distè¨­å®šLinuxç™¼è¡Œç‰ˆ cacheè¨­å®šé‚£äº›è³‡æ–™éœ€è¦è¢«å¿«å–æš«å­˜ servicesè¨­å®šéœ€è¦çš„æœå‹™ before_installéœ€è¦å¦å¤–å®‰è£çš„ç¨‹å¼ before_scriptåŸ·è¡Œscriptå‰åŸ·è¡Œçš„æŒ‡ä»¤ scriptåŸ·è¡Œscript ","date":"2020-09-17","objectID":"/2020/09/17/setup-travis-ci-or-github-action-for-a-rails-application-to-run-rspec-test-on-github/:4:0","tags":["Rails","PostgreSQL","Travis-CI","Github"],"title":"åœ¨Railså°ˆæ¡ˆè¨­å®šTravis-CIæˆ–Github action","uri":"/2020/09/17/setup-travis-ci-or-github-action-for-a-rails-application-to-run-rspec-test-on-github/"},{"categories":["Rails"],"content":"Github Action Github actionçš„è¨­å®šæª”åœ¨å°ˆæ¡ˆ.github/workflowsè³‡æ–™å¤¾ä¸­YAMLè¨­å®šæª”(æª”åä¸é™) åƒè€ƒä¾†æº name:RSpecon:[push]jobs:test:runs-on:ubuntu-latest# if: \"!contains(github.event.head_commit.message, 'ci skip')\"services:postgres:image:postgres:12env:POSTGRES_PASSWORD:postgresoptions:\u003e- --health-cmd pg_isready --health-interval 10s --health-timeout 5s --health-retries 5 ports: - 5432:5432 steps: - uses: actions/checkout@v2 - name: Set up Ruby uses: ruby/setup-ruby@v1 # with: # ruby-version: 2.7.1 # Not needed with a .ruby-version file - name: Setup Node # delete this step will use node v12 uses: actions/setup-node@v1 with: node-version: 14 - name: Cache gems uses: actions/cache@v2 with: path: vendor/bundle key: ${{ runner.os }}-gem-${{ hashFiles('**/Gemfile.lock') }} restore-keys: | ${{ runner.os }}-gem- - name: Cache node modules uses: actions/cache@v2 with: path: node_modules key: ${{ runner.os }}-node-${{ hashFiles('**/yarn.lock') }} restore-keys: | ${{ runner.os }}-node- - name: Install dependencies run: | gem install bundler bundle install --path vendor/bundle --without production yarn install - name: Set env run: | echo '::set-env name=RAILS_ENV::test' echo '::set-env name=DATABASE_URL::postgres://postgres:postgres@localhost:5432/' - name: setup DB run: | bundle exec rails db:create bundle exec rails db:schema:load - name: Run tests run: bundle exec rspec nameè¨­å®šé¡¯ç¤ºåœ¨Actionä¸­çš„åç¨± onè¨­å®šåº•ä¸‹Jobè§¸ç™¼æ¢ä»¶ job:test: è¨­å®šjobåç¨± runs-onè¨­å®šæ©Ÿå™¨çš„ä½œæ¥­ç³»çµ± servicesè¨­å®šéœ€è¦çš„æœå‹™ env:POSTGRES_PASSWORD:postgres è¨­å®šç’°å¢ƒè®Šæ•¸ï¼Œä»¥è¨­å®šè³‡æ–™åº«çš„ä½¿ç”¨è€…å¯†ç¢¼ setpsè¨­å®šå„å€‹æ­¥é©Ÿï¼Œå¯ä»¥ä½¿ç”¨ç¾æœ‰çš„actionæˆ–åŸ·è¡ŒæŒ‡ä»¤ - name:Set up Rubyuses:ruby/setup-ruby@v1# with:# ruby-version: 2.7.1 # Not needed with a .ruby-version file è¨­å®šå®‰è£Rubyï¼Œä¸è¨­å®šç‰ˆæœ¬æœƒå¾.ruby-versionè®€å– - name:Setup Node # delete this step will use node v12uses:actions/setup-node@v1with:node-version:14 è¨­å®šå®‰è£Nodeï¼Œæ²’æœ‰é€™ä¸€æ­¥é©Ÿçš„è©±æœƒç”¨Node V12 - name:Cache gemsuses:actions/cache@v2with:path:vendor/bundlekey:${{ runner.os }}-gem-${{ hashFiles('**/Gemfile.lock') }}restore-keys:| ${{ runner.os }}-gem-- name:Cache node modulesuses:actions/cache@v2with:path:node_moduleskey:${{ runner.os }}-node-${{ hashFiles('**/yarn.lock') }}restore-keys:| ${{ runner.os }}-node- è¨­å®šå“ªäº›è³‡æ–™éœ€è¦è¢«å¿«å– - name:Install dependenciesrun:| gem install bundler bundle install --path vendor/bundle --without production yarn install å®‰è£gemï¼Œå®‰è£node modules - name:Set envrun:| echo '::set-env name=RAILS_ENV::test' echo '::set-env name=DATABASE_URL::postgres://postgres:postgres@localhost:5432/' è¨­å®šç’°å¢ƒè®Šæ•¸ï¼ŒRAILS_ENVï¼ŒDATABASE_URL - name:setup DBrun:| bundle exec rails db:create bundle exec rails db:schema:load åˆå§‹åŒ–è³‡æ–™åº« - name:Run testsrun:bundle exec rspec åŸ·è¡Œæ¸¬è©¦ ","date":"2020-09-17","objectID":"/2020/09/17/setup-travis-ci-or-github-action-for-a-rails-application-to-run-rspec-test-on-github/:5:0","tags":["Rails","PostgreSQL","Travis-CI","Github"],"title":"åœ¨Railså°ˆæ¡ˆè¨­å®šTravis-CIæˆ–Github action","uri":"/2020/09/17/setup-travis-ci-or-github-action-for-a-rails-application-to-run-rspec-test-on-github/"},{"categories":["Rails"],"content":"ç°¡å–®ï¼Œä½†æ˜¯æœ‰äº›å°åœ°æ–¹è¦æ³¨æ„â€¦ æœ€è¿‘åœ¨å¯«ä¸€äº›ç·´ç¿’çš„å°å°ˆæ¡ˆï¼Œæ²’æƒ³åˆ°åœ¨è¨­å®šWebpackeré€™å€‹æ­¥é©Ÿå¡äº†å¾ˆä¹… æ‰€ä»¥æ‰“ç®—æŠŠè¨­å®šçš„æ­¥é©Ÿè‡ªå·±å¯«ä¸‹ä¾†é¿å…ä¸‹æ¬¡åˆå¿˜äº† ","date":"2020-09-15","objectID":"/2020/09/15/how-to-use-webpack-with-rails/:0:0","tags":["Rails","Webpack","Webpacker"],"title":"å¦‚ä½•åœ¨Railsè£¡ä½¿ç”¨Webpack?","uri":"/2020/09/15/how-to-use-webpack-with-rails/"},{"categories":["Rails"],"content":"Webpack \u0026 Webpacker Webpackæ˜¯ä¸€å€‹éœæ…‹æ¨¡çµ„æ‰“åŒ…å·¥å…·ï¼Œå¹«ä½ æŠŠæœ‰è¤‡é›œä¾è³´é—œä¿‚çš„js, css, scssâ€¦æ‰“åŒ…æˆéœæ…‹çš„æª”æ¡ˆ Webpackeræ˜¯ä¸€å€‹Ruby gemï¼Œè®“æˆ‘å€‘åœ¨Railså¯ä»¥æ–¹ä¾¿çš„ä½¿ç”¨Webpackè™•ç†Webpackå¯ä»¥è™•ç†çš„æª”æ¡ˆ ä»¥ä¸‹ç¯„ä¾‹å†å»ºç«‹ä¸€å€‹Railså°ˆæ¡ˆå¾Œï¼Œå»ºç«‹ä¸€å€‹controllerå’Œä¸€å€‹viewï¼Œä¸¦ä¸”è¨­å®šWebpackerå¼•ç”¨Bootstrapçš„CSSå’ŒJSåˆ°viewè£¡ ","date":"2020-09-15","objectID":"/2020/09/15/how-to-use-webpack-with-rails/:1:0","tags":["Rails","Webpack","Webpacker"],"title":"å¦‚ä½•åœ¨Railsè£¡ä½¿ç”¨Webpack?","uri":"/2020/09/15/how-to-use-webpack-with-rails/"},{"categories":["Rails"],"content":"å»ºç«‹å°ˆæ¡ˆ Rubyçš„ç‰ˆæœ¬æ˜¯2.7.1 Railsçš„ç‰ˆæœ¬æ˜¯6.0.3.3 é¦–å…ˆè¼¸å…¥ä»¥ä¸‹å‘½ä»¤é–‹æ–°å°ˆæ¡ˆ rails new webpack_example æ¥ä¸‹ä¾†generateåªæœ‰ä¸€å€‹actionçš„controllerï¼Œè¨˜å¾—å…ˆcdé€²å» â¯ rails g controller page index Running via Spring preloader in process 50838 create app/controllers/page_controller.rb route get 'page/index' invoke erb create app/views/page create app/views/page/index.html.erb invoke test_unit create test/controllers/page_controller_test.rb invoke helper create app/helpers/page_helper.rb invoke test_unit invoke assets invoke scss create app/assets/stylesheets/page.scss æ‰“é–‹config/routes.rbæ”¹æˆä»¥ä¸‹å…§å®¹ Rails.application.routes.draw do root 'page#index' end æ‰“é–‹app/views/page/index.html.erbè²¼ä¸Šä»¥ä¸‹Bootstrap Navbarçš„ç¯„ä¾‹code \u003cnav class=\"navbar navbar-expand-lg navbar-light bg-light\"\u003e \u003ca class=\"navbar-brand\" href=\"#\"\u003eNavbar\u003c/a\u003e \u003cbutton class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"\u003e \u003cspan class=\"navbar-toggler-icon\"\u003e\u003c/span\u003e \u003c/button\u003e \u003cdiv class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\"\u003e \u003cul class=\"navbar-nav mr-auto\"\u003e \u003cli class=\"nav-item active\"\u003e \u003ca class=\"nav-link\" href=\"#\"\u003eHome \u003cspan class=\"sr-only\"\u003e(current)\u003c/span\u003e\u003c/a\u003e \u003c/li\u003e \u003cli class=\"nav-item\"\u003e \u003ca class=\"nav-link\" href=\"#\"\u003eLink\u003c/a\u003e \u003c/li\u003e \u003cli class=\"nav-item dropdown\"\u003e \u003ca class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"\u003e Dropdown \u003c/a\u003e \u003cdiv class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"\u003e \u003ca class=\"dropdown-item\" href=\"#\"\u003eAction\u003c/a\u003e \u003ca class=\"dropdown-item\" href=\"#\"\u003eAnother action\u003c/a\u003e \u003cdiv class=\"dropdown-divider\"\u003e\u003c/div\u003e \u003ca class=\"dropdown-item\" href=\"#\"\u003eSomething else here\u003c/a\u003e \u003c/div\u003e \u003c/li\u003e \u003cli class=\"nav-item\"\u003e \u003ca class=\"nav-link disabled\" href=\"#\"\u003eDisabled\u003c/a\u003e \u003c/li\u003e \u003c/ul\u003e \u003cform class=\"form-inline my-2 my-lg-0\"\u003e \u003cinput class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\"\u003e \u003cbutton class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\"\u003eSearch\u003c/button\u003e \u003c/form\u003e \u003c/div\u003e \u003c/nav\u003e æœ€å¾Œè¼¸å…¥ä»¥ä¸‹å‘½ä»¤å•Ÿå‹•Railsä¼ºæœå™¨å¾Œï¼Œæ‰“é–‹ç€è¦½å™¨è¼¸å…¥ç¶²å€http://localhost:3000/å°±å¯ä»¥çœ‹åˆ°æ²’æœ‰JSä¹Ÿæ²’æœ‰CSSçš„Navbaräº† rails s ","date":"2020-09-15","objectID":"/2020/09/15/how-to-use-webpack-with-rails/:2:0","tags":["Rails","Webpack","Webpacker"],"title":"å¦‚ä½•åœ¨Railsè£¡ä½¿ç”¨Webpack?","uri":"/2020/09/15/how-to-use-webpack-with-rails/"},{"categories":["Rails"],"content":"å‡ç´šWebpacker ç›®å‰Railsä½¿ç”¨çš„Webpackeré‚„æ˜¯4.3ç‰ˆï¼Œç›®å‰å·²ç¶“æœ‰V5çš„ç‰ˆæœ¬å¯ä»¥ä½¿ç”¨ æ‰“é–‹å°ˆæ¡ˆçš„Gemfileï¼ŒæŠŠWebpackerçš„ç‰ˆæœ¬æ”¹ç‚ºä»¥ä¸‹ gem 'webpacker', '~\u003e 5.2', '\u003e= 5.2.1' æ”¹å®Œä¹‹å¾Œè¨˜å¾—åŸ·è¡Œbundleå¥—ç”¨ç‰ˆæœ¬å‡ç´š æ¥ä¸‹ä¾†åŸ·è¡Œyarn upgrade @rails/webpacker --latestå‘½ä»¤å‡ç´šnode moduleè£¡çš„æª”æ¡ˆã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨yarn upgrade @rails/webpacker@5.2.1æŒ‡å®šç‰ˆæœ¬å‡ç´šï¼Œä½†æ˜¯é€™å…©å€‹ç›®å‰æ˜¯ä¸€æ¨£çš„ Webpacker Gitä¸Šå‡ç´šçš„èªªæ˜ ","date":"2020-09-15","objectID":"/2020/09/15/how-to-use-webpack-with-rails/:3:0","tags":["Rails","Webpack","Webpacker"],"title":"å¦‚ä½•åœ¨Railsè£¡ä½¿ç”¨Webpack?","uri":"/2020/09/15/how-to-use-webpack-with-rails/"},{"categories":["Rails"],"content":"å®‰è£èˆ‡è¨­å®šBootsrap åŸ·è¡Œyarn add bootstrap jquery popper.jså¾yarnpkgå®‰è£Boorstrapå’ŒBootstrapè£¡JSæ‰€ä¾è³´çš„jQuery, popper.js æ¥ä¸‹ä¾†è¦åˆ©ç”¨Webpackçš„ProvidePluginåŠŸèƒ½æŠŠjQuery, popper.jsè‡ªå‹•è¼‰å…¥åˆ°å„å€‹JSè£¡ï¼Œå°±ä¸ç”¨åœ¨JSæª”è£¡å¯«import $ from 'jquery' æ‰“é–‹config/webpack/environment.jsï¼Œæ”¹æˆä»¥ä¸‹å…§å®¹ $: 'jquery/src/jquery'çš„å¯«æ³•å¯ä»¥åœ¨rails-ujsä¸­ä¹Ÿèƒ½ä½¿ç”¨jQuery const { environment } = require('@rails/webpacker') const webpack = require('webpack') environment.plugins.prepend('Provide', new webpack.ProvidePlugin({ $: 'jquery/src/jquery', jQuery: 'jquery/src/jquery', Popper: ['popper.js', 'default'] }) ) module.exports = environment æ‰“é–‹app/javascript/packs/application.jsï¼ŒåŠ å…¥ä»¥ä¸‹ç¨‹å¼ç¢¼ import 'bootstrap' import 'bootstrap/scss/bootstrap.scss' æ‰“é–‹app/views/layouts/application.html.erbï¼ŒæŠŠ\u003c%= stylesheet_link_tag 'application', ... %\u003eé‚£è¡Œæ”¹æˆä»¥ä¸‹ \u003c%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %\u003e æœ€å¾Œå†åŸ·è¡Œrails sï¼Œå°±å¯ä»¥åœ¨ç€è¦½å™¨çœ‹åˆ°ç²¾ç¾çš„Bootstrap NavbarğŸ‰ ","date":"2020-09-15","objectID":"/2020/09/15/how-to-use-webpack-with-rails/:4:0","tags":["Rails","Webpack","Webpacker"],"title":"å¦‚ä½•åœ¨Railsè£¡ä½¿ç”¨Webpack?","uri":"/2020/09/15/how-to-use-webpack-with-rails/"},{"categories":["Rails"],"content":"Webpackæ‰“åŒ…CSSå’ŒJSé‚è¼¯ åœ¨Webpackerè¨­å®šä¸‹ï¼ŒWebpackæ‰“åŒ…æ™‚æœƒé€²è¡Œä»¥ä¸‹æ­¥é©Ÿ åˆ°app/javascript/packså°‹æ‰¾JSæˆ–SCSSæª”æ¡ˆï¼Œä½œç‚ºentry pointï¼Œä¸¦ä¾æ“šJSæª”è£¡é¢çš„import 'libary'æˆ–SCSSæª”è£¡é¢çš„@import 'style.scss';å»ºç«‹å„æª”æ¡ˆé–“çš„ä¾è³´æ€§ é™¤äº†åœ¨JSè£¡import JSï¼Œä½ ä¹Ÿå¯ä»¥åœ¨JS import SCSS, CSS importæª”æ¡ˆæ™‚ï¼Œå¾è³‡æ–™å¤¾åç¨±é–‹å§‹å¯«çš„è©±ï¼Œæœƒå¾node_moduleè³‡æ–™å¤¾ä¸­é–‹å§‹æ‰¾ å¦å¤–Webpack V5çš„æ–°åŠŸèƒ½Importing CSS as a multi-file packï¼Œå¯ä»¥ç›´æ¥åœ¨packsè³‡æ–™å¤¾å»ºç«‹åŒåçš„JSå’ŒSCSSæª”ä¸æœƒæœ‰å•é¡Œ ä¾æ“šentry pointçš„æª”åï¼Œæ‰“åŒ…å‡ºåŒåçš„JSæª”æˆ–CSSæª”ã€‚SCSSæª”æ‰“åŒ…å‡ºCSSæª”ï¼ŒJSæª”æ‰“åŒ…å‡ºJSå’ŒCSSæª”ï¼ˆå¦‚æœæœ‰import CSSæˆ–SCSSï¼‰ ä½¿ç”¨æ™‚ï¼Œåœ¨html.erbä½¿ç”¨\u003c%= stylesheet_pack_tag 'entry_point' %\u003eè¼‰å…¥æ‰“åŒ…å¾Œçš„CSSæª”ï¼Œä½¿ç”¨\u003c%= javascript_pack_tag 'entry_point' %\u003eè¼‰å…¥æ‰“åŒ…å¾Œçš„JSæª” å¦‚æœåœ¨entry pointåŒæ™‚å¼•ç”¨JSå’ŒSCSSæª”ï¼Œè¨˜å¾—è¦åˆ†åˆ¥è¼‰å…¥CSSå’ŒJS(stylesheet_pack_tag \u0026 javascript_pack_tag) ","date":"2020-09-15","objectID":"/2020/09/15/how-to-use-webpack-with-rails/:5:0","tags":["Rails","Webpack","Webpacker"],"title":"å¦‚ä½•åœ¨Railsè£¡ä½¿ç”¨Webpack?","uri":"/2020/09/15/how-to-use-webpack-with-rails/"},{"categories":["Rails"],"content":"Productionç’°å¢ƒæœƒé‡åˆ°çš„å•é¡Œ è®“æˆ‘å€‘ç”¨rails s -e=productionå‘½ä»¤å•Ÿå‹•productionç’°å¢ƒçš„ä¼ºæœå™¨ã€‚ç„¶å¾Œç¶²ç«™å°±å‡ºéŒ¯äº† ","date":"2020-09-15","objectID":"/2020/09/15/how-to-use-webpack-with-rails/:6:0","tags":["Rails","Webpack","Webpacker"],"title":"å¦‚ä½•åœ¨Railsè£¡ä½¿ç”¨Webpack?","uri":"/2020/09/15/how-to-use-webpack-with-rails/"},{"categories":["Rails"],"content":"assets:precompile æ‰“é–‹log/production.logæœƒçœ‹åˆ°ä»¥ä¸‹éŒ¯èª¤è¨Šæ¯ ActionView::Template::Error (Webpacker can't find application.css in /home/jasonj/webpack_example/public/packs/manifest.json. Possible causes: 1. You want to set webpacker.yml value of compile to true for your environment unless you are using the `webpack -w` or the webpack-dev-server. 2. webpack has not yet re-run to reflect updates. 3. You have misconfigured Webpacker's config/webpacker.yml file. 4. Your webpack configuration is not creating a manifest. Your manifest contains: { \"application.js\": \"/packs/js/application-9317054a6fa2affa21c0.js\", \"application.js.map\": \"/packs/js/application-9317054a6fa2affa21c0.js.map\", \"entrypoints\": { \"application\": { \"js\": [ \"/packs/js/application-9317054a6fa2affa21c0.js\" ], \"js.map\": [ \"/packs/js/application-9317054a6fa2affa21c0.js.map\" ] } } } ): [3ac03c58-2f45-46f3-8997-611527716d59] 5: \u003c%= csrf_meta_tags %\u003e [3ac03c58-2f45-46f3-8997-611527716d59] 6: \u003c%= csp_meta_tag %\u003e [3ac03c58-2f45-46f3-8997-611527716d59] 7: [3ac03c58-2f45-46f3-8997-611527716d59] 8: \u003c%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %\u003e [3ac03c58-2f45-46f3-8997-611527716d59] 9: \u003c%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %\u003e [3ac03c58-2f45-46f3-8997-611527716d59] 10: \u003c/head\u003e [3ac03c58-2f45-46f3-8997-611527716d59] 11: [3ac03c58-2f45-46f3-8997-611527716d59] [3ac03c58-2f45-46f3-8997-611527716d59] app/views/layouts/application.html.erb:8 I, ç°¡å–®ä¾†èªªï¼Œå°±æ˜¯åœ¨erbæª”ç”¨äº†stylesheet_pack_tagå’Œjavascript_pack_tagï¼Œä½†æ˜¯webpackerèªªæ‰¾ä¸åˆ°æ‰“åŒ…å‡ºä¾†åˆ°CSSå’ŒJSæª” è¦ç”¢ç”Ÿproductionç’°å¢ƒç”¨çš„CSSå’ŒJSæª”ï¼Œéœ€è¦å…ˆåŸ·è¡Œä»¥ä¸‹å‘½ä»¤ RAILS_ENV=production rails assets:precompile ä¹‹å¾Œæª¢æŸ¥public/packs/csså’Œpublic/packs/jsè£¡ï¼Œå°±æœƒæœ‰æ‰“åŒ…å‡ºä¾†çš„æª”æ¡ˆ åœ¨éƒ¨ç½²çš„æ™‚å€™ï¼Œæ‡‰è©²åŸ·è¡Œrails assets:precompileå°±å¥½ï¼ŒRAILS_ENV=productionæ‡‰è©²æœƒå…ˆè¨­å®šåœ¨ä¼ºæœå™¨çš„ç’°å¢ƒè®Šæ•¸ä¸­ éƒ¨ç½²åœ¨Herokuçš„è©±ï¼Œæ‡‰è©²æœƒè‡ªå‹•åŸ·è¡Œé€™ä¸€æ­¥çš„æ¨£å­ ","date":"2020-09-15","objectID":"/2020/09/15/how-to-use-webpack-with-rails/:6:1","tags":["Rails","Webpack","Webpacker"],"title":"å¦‚ä½•åœ¨Railsè£¡ä½¿ç”¨Webpack?","uri":"/2020/09/15/how-to-use-webpack-with-rails/"},{"categories":["Rails"],"content":"RAILS_SERVE_STATIC_FILES æ¥ä¸‹ä¾†å†æ‰“é–‹ä¼ºæœå™¨ï¼Œæ€éº¼åˆè®Šæˆæ²’æœ‰å¼•ç”¨CSSå’ŒJSçš„ç•«é¢äº†ï¼Ÿ è®“æˆ‘å€‘æ‰“é–‹logçœ‹çœ‹ [2020-09-16T02:02:18.644064 #9016] INFO -- : [87560b92-483f-43e3-a8eb-3089cb8fca12] Started GET \"/packs/css/application-c6751772.css\" for 127.0.0.1 at 2020-09-16 02:02:18 +0800 F, [2020-09-16T02:02:18.644927 #9016] FATAL -- : [87560b92-483f-43e3-a8eb-3089cb8fca12] [87560b92-483f-43e3-a8eb-3089cb8fca12] ActionController::RoutingError (No route matches [GET] \"/packs/css/application-c6751772.css\"): ... ... ... [2020-09-16T02:02:18.667339 #9016] INFO -- : [ef022040-9dd8-424b-beb7-ebaed172e8d0] Started GET \"/packs/js/application-473b44d61307cd2ab54d.js\" for 127.0.0.1 at 2020-09-16 02:02:18 +0800 F, [2020-09-16T02:02:18.668101 #9016] FATAL -- : [ef022040-9dd8-424b-beb7-ebaed172e8d0] [ef022040-9dd8-424b-beb7-ebaed172e8d0] ActionController::RoutingError (No route matches [GET] \"/packs/js/application-473b44d61307cd2ab54d.js\"): åŸä¾†æ˜¯ç€è¦½å™¨è¦æ±‚CSSå’ŒJSæ™‚ï¼Œè¢«Railsæ“‹ä¸‹ä¾†äº† åœ¨config/environments/production.rbä¸­ # Disable serving static files from the `/public` folder by default since # Apache or NGINX already handles this. config.public_file_server.enabled = ENV['RAILS_SERVE_STATIC_FILES'].present? ä¸€èˆ¬éƒ¨ç½²Railsæ™‚ï¼Œæœƒæ­é…Apacheæˆ–NGINXä½¿ç”¨ï¼Œè™•ç†publicè³‡æ–™å¤¾è£¡çš„éœæ…‹æª”æ¡ˆ æ‰€ä»¥å¦‚æœæ²’æœ‰ä½¿ç”¨ä»¥ä¸Šè»Ÿé«”ï¼Œè¦ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å•Ÿå‹•ä¼ºæœå™¨ï¼Œ RAILS_SERVE_STATIC_FILES=true rails s -e=production åœ¨éƒ¨ç½²æ™‚ï¼Œè¦æŠŠRAILS_SERVE_STATIC_FILES=trueåŠ å…¥ç’°å¢ƒè®Šæ•¸ä¸­ éƒ¨ç½²åœ¨Herokuæ™‚éœ€è¦è¨­å®šé€™å€‹ç’°å¢ƒè®Šæ•¸ ","date":"2020-09-15","objectID":"/2020/09/15/how-to-use-webpack-with-rails/:6:2","tags":["Rails","Webpack","Webpacker"],"title":"å¦‚ä½•åœ¨Railsè£¡ä½¿ç”¨Webpack?","uri":"/2020/09/15/how-to-use-webpack-with-rails/"},{"categories":["Rails"],"content":"webpack-dev-server è«‹é ˜ç­å¹«å¿™ é–‹ç™¼æ™‚ï¼ŒåŒæ™‚åŸ·è¡Œwebpack-dev-serverï¼Œå¯ä»¥åŠ å¿«CSSæˆ–JSæª”é‡æ–°è¼‰å…¥çš„é€Ÿåº¦ ","date":"2020-09-15","objectID":"/2020/09/15/how-to-use-webpack-with-rails/:7:0","tags":["Rails","Webpack","Webpacker"],"title":"å¦‚ä½•åœ¨Railsè£¡ä½¿ç”¨Webpack?","uri":"/2020/09/15/how-to-use-webpack-with-rails/"},{"categories":["Linux"],"content":"ç”¨é€” ä¸€èˆ¬ä¾†èªªï¼Œå¦‚æœåœ¨å®‰è£Windowsä¹‹å¾Œå†å®‰è£Ubuntuæˆ–Manjaroé€™äº›å¯ä»¥è‡ªå‹•å®‰è£çš„Linuxï¼Œé–‹æ©Ÿæ™‚æ‡‰è©²å°±æœƒå‡ºç¾GRUBçš„é¸å–®å¯ä»¥é¸æ“‡è¦é€²å…¥Windowsæˆ–Linuxã€‚ä¹Ÿå¯ä»¥åœ¨BIOSä¸­è¨­å®šé è¨­è¦é€²å…¥çš„ç³»çµ±ã€‚ ä½†æ˜¯åœ¨æŸäº›ç­†è¨˜å‹é›»è…¦ä¸Šï¼Œåªæœ‰å®‰è£ä¸€é¡†ç¡¬ç¢Ÿæ™‚ï¼Œå°±ç®—åœ¨BIOSä¸­é¸æ“‡Linuxä½œç‚ºé è¨­å€¼ï¼Œé–‹æ©Ÿæ™‚é‚„æ˜¯æœƒé€²å…¥Windowsã€‚ å”¯ä¸€å¯ä»¥è¨­å®šLinuxä½œç‚ºé è¨­é–‹æ©Ÿçš„è§£æ±ºæ–¹å¼ã€‚æ˜¯æŠŠWindowsçš„é–‹æ©Ÿefiæª”æ›´åï¼Œå†æŠŠLinux(GRUB)çš„é–‹æ©Ÿefiæª”è¤‡è£½ä¸€ä»½åˆ°åŸä¾†Windowsé–‹æ©Ÿefiçš„ç›¸åŒä½ç½®ã€‚é€™æ¨£å°±ç®—æ˜¯ç³»çµ±åŸ·è¡Œçš„æ˜¯Windowsçš„efiæª”ï¼Œé‚„æ˜¯å¯ä»¥ç…§æˆ‘å€‘æƒ³è¦çš„å¾Linuxé–‹æ©Ÿã€‚å¦å¤–é‚„è¦æ›´æ–°Linuxå¤šé‡é–‹æ©Ÿç®¡ç†ç¨‹å¼GRUBè¨­å®šæª”ä¸­Windowsçš„efiæª”ä½ç½®ï¼Œé€™æ¨£æ‰å¯ä»¥åœ¨GRUBé¸å–®ä¸­æ­£ç¢ºå•Ÿå‹•Windowsã€‚ ä½†æ˜¯ï¼Œåœ¨åšå®Œé€™äº›è¨­å®šå¾Œï¼ŒWindowsæ›´æ–°æ™‚æœ‰æ©Ÿæœƒé‡è¨­Windowsçš„é–‹æ©Ÿefiã€‚æœ‰æ™‚å€™Linuxæ›´æ–°Kernelçš„æ™‚å€™ï¼Œä¹Ÿæœƒé‡è¨­GRUBçš„è¨­å®šæª”ã€‚æ‰€ä»¥é€™äº›æ™‚å€™å°±è¦é‡è¤‡ä¸Šé¢é€™äº›è¨­å®šã€‚ é€™å€‹shell scriptå°±æ˜¯å°‡ä¸Šé¢é€™äº›æ­¥é©Ÿè‡ªå‹•åŒ–ã€‚ ","date":"2020-09-09","objectID":"/2020/09/09/shell-script-for-update-grub.cfg-and-more/:1:0","tags":["GRUB"],"title":"æ›´æ–°é›™é‡é–‹æ©Ÿ(Windows, Linux)è¨­å®šçš„shell script","uri":"/2020/09/09/shell-script-for-update-grub.cfg-and-more/"},{"categories":["Linux"],"content":"Script ","date":"2020-09-09","objectID":"/2020/09/09/shell-script-for-update-grub.cfg-and-more/:2:0","tags":["GRUB"],"title":"æ›´æ–°é›™é‡é–‹æ©Ÿ(Windows, Linux)è¨­å®šçš„shell script","uri":"/2020/09/09/shell-script-for-update-grub.cfg-and-more/"},{"categories":["Linux"],"content":"ä½¿ç”¨æ–¹æ³• æŠŠä¸Šé¢codeè¤‡è£½ä¸€ä»½åˆ°æƒ³å­˜æ”¾çš„ç›®éŒ„ä¸­ chmod è®“æª”æ¡ˆè®Šæˆå¯ä»¥åŸ·è¡Œ chmod +x grub.sh åŸ·è¡Œ ./grub.sh ","date":"2020-09-09","objectID":"/2020/09/09/shell-script-for-update-grub.cfg-and-more/:3:0","tags":["GRUB"],"title":"æ›´æ–°é›™é‡é–‹æ©Ÿ(Windows, Linux)è¨­å®šçš„shell script","uri":"/2020/09/09/shell-script-for-update-grub.cfg-and-more/"},{"categories":["Linux"],"content":"Yay - Aur helper in Arch linux and Manjaro é›–ç„¶Manjaroæœ‰å…§å»ºPamacä¾†ç®¡ç†ç³»çµ±ä¸Šçš„è»Ÿé«”ï¼Œä½†æ˜¯ä»¥æˆ‘çš„ä½¿ç”¨ç¶“é©—ä¾†èªªï¼ŒCommamd Lineçš„å·¥å…·ç”¨èµ·ä¾†é‚„æ˜¯æ¯”è¼ƒå°‘éŒ¯èª¤ã€‚æˆ‘ä½¿ç”¨çš„ç¨‹å¼æ˜¯Yayï¼Œå¯ä»¥é †ä¾¿ç®¡ç†é€éAURå®‰è£çš„ç¨‹å¼ã€‚ ","date":"2020-09-09","objectID":"/2020/09/09/my-tips-of-using-manjaro/:1:0","tags":["Manjaro"],"title":"ä½¿ç”¨Manjaro linux çš„å°è¨£ç«…","uri":"/2020/09/09/my-tips-of-using-manjaro/"},{"categories":["Linux"],"content":"è¨­å®šå®‰è£ç¨‹å¼æ™‚ä½¿ç”¨çš„é¡åƒç«™ä¼ºæœå™¨(mirror server) æ­£ç¢ºçš„è¨­å®šå¯ä»¥åœ¨å®‰è£æˆ–æ›´æ–°ç¨‹å¼çš„æ™‚å€™ï¼Œæé«˜ä¸‹è¼‰çš„é€Ÿåº¦ pacman-mirrors --country Taiwan ","date":"2020-09-09","objectID":"/2020/09/09/my-tips-of-using-manjaro/:1:1","tags":["Manjaro"],"title":"ä½¿ç”¨Manjaro linux çš„å°è¨£ç«…","uri":"/2020/09/09/my-tips-of-using-manjaro/"},{"categories":["Linux"],"content":"è¨­å®šYayé¸é …çš„é è¨­å€¼ è¨­å®šé€™äº›é¸é …é è¨­å€¼å¯ä»¥åœ¨æ›´æ–°AURä¸Šç¨‹å¼çš„æ™‚å€™ï¼Œé¿å…éç¨‹è¢«ä¸­æ–· yay --nocleanmenu --nodiffmenu --noeditmenu --save ","date":"2020-09-09","objectID":"/2020/09/09/my-tips-of-using-manjaro/:1:2","tags":["Manjaro"],"title":"ä½¿ç”¨Manjaro linux çš„å°è¨£ç«…","uri":"/2020/09/09/my-tips-of-using-manjaro/"},{"categories":["Linux"],"content":"Chromeçš„èªè¨€è¨­å®š ç‚ºäº†åœ¨ä½¿ç”¨Manjaroé‡åˆ°å•é¡Œæ™‚ï¼Œå¯ä»¥æ‰¾åˆ°æ›´å¤šå•é¡Œçš„è§£ç­”ã€‚æˆ‘çš„ç³»çµ±èªè¨€æ™‚è¨­å®šæˆè‹±æ–‡ã€‚ Chromeé è¨­çš„èªè¨€æœƒä½¿ç”¨ç³»çµ±è¨­å®šï¼Œä½†æ˜¯é€™æ¨£æœƒå½±éŸ¿ä¸€äº›ç¶²ç«™çš„èªè¨€ï¼Œæ‰€ä»¥éœ€è¦å¦å¤–è¨­å®šChromeçš„èªè¨€ã€‚ è§£ç­” In your /usr/share/applications/google-chrome.desktop change the â€œexecâ€ command to something like this: sh -c \"LANGUAGE=zh_TW /usr/bin/google-chrome-stable %U\" ","date":"2020-09-09","objectID":"/2020/09/09/my-tips-of-using-manjaro/:2:0","tags":["Manjaro"],"title":"ä½¿ç”¨Manjaro linux çš„å°è¨£ç«…","uri":"/2020/09/09/my-tips-of-using-manjaro/"},{"categories":["Linux"],"content":"Rime - ä¸­æ–‡è¼¸å…¥æ³• å¾…æ›´æ–°â€¦ ","date":"2020-09-09","objectID":"/2020/09/09/my-tips-of-using-manjaro/:3:0","tags":["Manjaro"],"title":"ä½¿ç”¨Manjaro linux çš„å°è¨£ç«…","uri":"/2020/09/09/my-tips-of-using-manjaro/"},{"categories":["Blog"],"content":"é–‹å·¥æ¸¬è©¦ Finally!!! ","date":"2020-03-11","objectID":"/2020/03/11/first-post/:0:0","tags":["Hugo"],"title":"First Post","uri":"/2020/03/11/first-post/"}]